<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Đăng nhập / Đăng ký</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/auth.css') }}"
    />
  </head>
  <body>
    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %}
    <div class="flash-container">
      {% for category, message in messages %}
      <div class="flash-message {{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
    {% endif %} {% endwith %}

    <div class="container" id="container">
      <!-- Form Đăng ký -->
      <div class="form-container sign-up-container">
        <form action="{{ url_for('auth_bp.register') }}" method="POST">
          <h1>Tạo tài khoản</h1>
          <input type="text" placeholder="Họ và tên" name="fullname" required />
          <input type="email" placeholder="Gmail" name="gmail" required />
          <input
            type="text"
            placeholder="Tên đăng nhập"
            name="username"
            required
          />
          <input
            type="password"
            placeholder="Mật khẩu"
            name="password"
            required
          />
          <button type="submit">Đăng ký</button>
        </form>
      </div>

      <!-- Form Đăng nhập -->
      <div class="form-container sign-in-container">
        <form action="{{ url_for('auth_bp.login') }}" method="POST">
          <h1>Đăng nhập</h1>

          <input
            type="text"
            placeholder="Tên đăng nhập"
            name="username"
            required
          />
          <input
            type="password"
            placeholder="Mật khẩu"
            name="password"
            required
          />

          <a
            href="{{ url_for('auth_bp.forgot_password') }}"
            class="forgot-password-link"
          >
            Quên mật khẩu?
          </a>

          <button type="submit">Đăng nhập</button>
        </form>
      </div>

      <!-- Overlay -->
      <div class="overlay-container">
        <div class="overlay">
          <div class="overlay-panel overlay-left">
            <h1>Chào mừng quay lại!</h1>
            <p>
              Để tiếp tục mua sắm, vui lòng đăng nhập bằng thông tin của bạn
            </p>
            <button class="ghost" id="signIn">Đăng nhập</button>
          </div>
          <div class="overlay-panel overlay-right">
            <h1>Xin chào!</h1>
            <p>Bạn chưa có tài khoản? Hãy đăng ký ngay</p>
            <button class="ghost" id="signUp">Đăng ký</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const signUpButton = document.getElementById("signUp");
      const signInButton = document.getElementById("signIn");
      const container = document.getElementById("container");

      signUpButton.addEventListener("click", () => {
        container.classList.add("right-panel-active");
      });

      signInButton.addEventListener("click", () => {
        container.classList.remove("right-panel-active");
      });
    </script>
  </body>
</html>
